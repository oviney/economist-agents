{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Board Decision Schema",
  "description": "Schema for editorial_board.py output - voting results and consensus",
  "type": "object",
  "required": ["rankings", "top_pick", "board_size"],
  "properties": {
    "rankings": {
      "type": "array",
      "description": "Topics ranked by weighted score",
      "items": {
        "type": "object",
        "required": ["rank", "topic", "weighted_score", "vote_count", "votes"],
        "properties": {
          "rank": {
            "type": "integer",
            "minimum": 1,
            "description": "Ranking position (1 = highest)"
          },
          "topic": {
            "type": "string",
            "description": "Article topic"
          },
          "weighted_score": {
            "type": "number",
            "minimum": 0,
            "maximum": 10,
            "description": "Weighted average score from all board members"
          },
          "vote_count": {
            "type": "integer",
            "minimum": 0,
            "description": "Number of board members who voted"
          },
          "votes": {
            "type": "array",
            "items": {
              "type": "object",
              "required": ["member", "score", "rationale"],
              "properties": {
                "member": {"type": "string"},
                "score": {"type": "integer", "minimum": 1, "maximum": 10},
                "rationale": {"type": "string"}
              }
            }
          },
          "original_topic": {
            "type": "object",
            "description": "Full topic data from content queue"
          }
        }
      }
    },
    "top_pick": {
      "type": ["object", "null"],
      "description": "Highest-ranked topic or null if no topics"
    },
    "consensus": {
      "type": "boolean",
      "description": "Whether all board members agreed on top pick"
    },
    "dissenting_views": {
      "type": "array",
      "description": "Board members who scored top pick below 5",
      "items": {
        "type": "object",
        "properties": {
          "member": {"type": "string"},
          "score": {"type": "integer"},
          "rationale": {"type": "string"}
        }
      }
    },
    "board_size": {
      "type": "integer",
      "minimum": 1,
      "description": "Number of board members who participated"
    }
  }
}
