{
  "version": "2.0",
  "last_updated": "2026-01-01T00:00:00.000000",
  "skills": {
    "seo_validation": {
      "description": "Detect SEO issues that impact search rankings",
      "patterns": [
        {
          "id": "missing_page_title",
          "severity": "critical",
          "pattern": "Empty or missing <title> tag",
          "check": "Verify page layout includes title metadata rendering",
          "learned_from": "Found 3 pages with empty titles on 2025-12-31"
        },
        {
          "id": "placeholder_urls",
          "severity": "high",
          "pattern": "URLs containing 'YOUR-', 'REPLACE-', 'PLACEHOLDER'",
          "check": "Scan for template placeholder text in links",
          "learned_from": "Found YOUR-PROFILE in LinkedIn link on 2025-12-31"
        }
      ]
    },
    "content_quality": {
      "description": "Validate content matches editorial standards",
      "patterns": [
        {
          "id": "ai_disclosure_compliance",
          "severity": "medium",
          "pattern": "Posts with AI-generated content must have ai_assisted: true flag",
          "check": "Scan content for AI mentions without disclosure flag",
          "learned_from": "Found 3 posts missing ai_assisted flag on 2025-12-31"
        },
        {
          "id": "banned_openings",
          "severity": "critical",
          "pattern": "Article starts with banned throat-clearing phrases",
          "check": "Scan first paragraph for patterns like 'In today\\'s world', 'It\\'s no secret'",
          "learned_from": "Codified from AGENT_QUALITY_STANDARDS.md on 2026-01-01",
          "auto_fix": "Remove opening sentences with banned patterns"
        },
        {
          "id": "banned_closings",
          "severity": "critical",
          "pattern": "Article ends with summary or weak closing",
          "check": "Scan last 3 paragraphs for 'In conclusion', 'remains to be seen', summaries",
          "learned_from": "Codified from AGENT_QUALITY_STANDARDS.md on 2026-01-01",
          "auto_fix": "Replace with definitive prediction or implication"
        },
        {
          "id": "verification_flags_present",
          "severity": "critical",
          "pattern": "Article contains [NEEDS SOURCE] or [UNVERIFIED] markers",
          "check": "Grep for verification flags in article body",
          "learned_from": "Codified from AGENT_QUALITY_STANDARDS.md on 2026-01-01",
          "auto_fix": "Delete unsourced claims or add proper attribution"
        }
      ]
    },
    "front_matter_validation": {
      "description": "NEW: Enforce front matter schema compliance (BLOCKS layer)",
      "patterns": [
        {
          "id": "missing_categories_field",
          "severity": "critical",
          "pattern": "Front matter missing 'categories' field",
          "check": "schema_validator.py enforces required field",
          "learned_from": "Issue #15: Missing category tag on article page (2026-01-01)",
          "prevention": "Self-validating Writer Agent now checks before returning"
        },
        {
          "id": "missing_layout_field",
          "severity": "critical",
          "pattern": "Front matter missing 'layout' field causes page rendering failure",
          "check": "schema_validator.py enforces required field",
          "learned_from": "Production bug: Pages render without Jekyll layout (2025-12-31)",
          "prevention": "Schema validation blocks publication"
        },
        {
          "id": "generic_titles",
          "severity": "high",
          "pattern": "Titles use generic patterns like 'Myth vs Reality', 'Ultimate Guide'",
          "check": "schema_validator.py regex patterns detect generic titles",
          "learned_from": "Codified from AGENT_QUALITY_STANDARDS.md on 2026-01-01",
          "prevention": "Agent prompts explicitly ban generic patterns"
        },
        {
          "id": "wrong_date_in_frontmatter",
          "severity": "high",
          "pattern": "Date in front matter doesn't match today's date",
          "check": "schema_validator.py compares date to expected_date",
          "learned_from": "Writer Agent sometimes uses dates from research sources",
          "prevention": "Writer prompt explicitly states: Use TODAY\\'s date"
        }
      ]
    },
    "sprint_report_quality": {
      "description": "Validate sprint reports have clickable GitHub links to all artifacts",
      "patterns": [
        {
          "id": "missing_artifact_links",
          "severity": "high",
          "pattern": "File mentioned in report but no GitHub link provided",
          "check": "Scan for file paths without accompanying [text](https://github.com/...) links",
          "learned_from": "Sprint 4 report - no links to generated artifacts (2026-01-01)",
          "prevention": "Use SPRINT_REPORT_SPEC.md validation script before committing"
        },
        {
          "id": "broken_commit_references",
          "severity": "high",
          "pattern": "Commit SHA mentioned but not linked",
          "check": "All commit SHAs must be clickable links to GitHub commits",
          "learned_from": "Sprint 4 report validation (2026-01-01)",
          "prevention": "Validate with validate_sprint_report.py"
        },
        {
          "id": "unlinked_issues",
          "severity": "medium",
          "pattern": "Issue numbers mentioned without links",
          "check": "All #XX references must link to GitHub issues",
          "learned_from": "Sprint 4 report validation (2026-01-01)",
          "prevention": "Validate with validate_sprint_report.py"
        }
      ]
    },
    "chart_integration": {
      "description": "NEW: Validate chart generation and embedding",
      "patterns": [
        {
          "id": "chart_not_embedded",
          "severity": "critical",
          "pattern": "Chart generated but not embedded in article",
          "check": "agent_reviewer.py checks for ![...](chart_path) in article",
          "learned_from": "Issue #16: Charts generated but never embedded (2026-01-01)",
          "prevention": "Self-validating Writer Agent regenerates if chart missing"
        },
        {
          "id": "chart_not_referenced",
          "severity": "medium",
          "pattern": "Chart embedded but not referenced in text",
          "check": "agent_reviewer.py scans for 'As the chart shows' or similar",
          "learned_from": "Codified from AGENT_QUALITY_STANDARDS.md on 2026-01-01",
          "prevention": "Writer prompt requires natural chart reference"
        },
        {
          "id": "duplicate_chart_display",
          "severity": "medium",
          "pattern": "Chart appears twice (featured image + embedded)",
          "check": "Scan for both 'image:' field and markdown embed",
          "learned_from": "Issue #17: Duplicate chart display (2026-01-01)",
          "prevention": "Writer Agent no longer adds 'image:' field"
        }
      ]
    },
    "link_validation": {
      "description": "Detect broken or problematic links",
      "patterns": [
        {
          "id": "dead_internal_links",
          "severity": "high",
          "pattern": "Internal links pointing to non-existent pages",
          "check": "Verify all internal links resolve to actual files",
          "learned_from": "Initial skill - common blog issue"
        }
      ]
    },
    "performance": {
      "description": "Detect performance issues",
      "patterns": [
        {
          "id": "font_preload_warnings",
          "severity": "low",
          "pattern": "Font preload resource hints causing warnings",
          "check": "Review preload strategy in layout templates",
          "learned_from": "Found Google Fonts preload warning on 2025-12-31"
        }
      ]
    },
    "agent_architecture": {
      "description": "",
      "patterns": [
        {
          "severity": "architectural",
          "pattern": "Agent behavior defined by large prompt constants at top of files",
          "rationale": "Makes agent logic explicit, versionable, and reviewable",
          "examples": [
            "topic_scout.py: SCOUT_AGENT_PROMPT",
            "topic_scout.py: TREND_RESEARCH_PROMPT",
            "economist_agent.py: RESEARCH_AGENT_PROMPT"
          ],
          "check": "When modifying agent behavior, edit prompt constants first",
          "learned_from": "Found 9 prompt constants across agent files",
          "id": "prompts_as_code",
          "learned_on": "2025-12-31T23:49:59.106049"
        },
        {
          "severity": "architectural",
          "pattern": "Editorial board uses weighted persona agents for consensus",
          "rationale": "Simulates diverse stakeholder perspectives with different priorities",
          "implementation": "Each persona has explicit 'what makes you click/scroll past' criteria",
          "personas": [
            "vp_engineering",
            "senior_qe_lead",
            "data_skeptic",
            "career_climber",
            "economist_editor",
            "busy_reader"
          ],
          "check": "New personas must define weight, perspective, and decision criteria",
          "learned_from": "Found 6 personas with weighted voting in editorial_board.py",
          "id": "persona_based_voting",
          "learned_on": "2025-12-31T23:49:59.106316"
        },
        {
          "severity": "architectural",
          "pattern": "Pipeline stages executed sequentially with data handoffs",
          "stages": [
            "run_research_agent",
            "run_writer_agent",
            "run_graphics_agent",
            "run_editor_agent",
            "run_critique_agent",
            "run_visual_qa_agent"
          ],
          "rationale": "Each agent specializes in one task, outputs feed next agent",
          "check": "Ensure each agent validates its inputs and outputs structured data",
          "learned_from": "Found 6 specialized agents in pipeline",
          "id": "sequential_agent_orchestration",
          "learned_on": "2025-12-31T23:49:59.106684"
        }
      ]
    },
    "data_flow": {
      "description": "",
      "patterns": [
        {
          "severity": "architectural",
          "pattern": "Pipeline stages communicate via JSON files on disk",
          "files": [
            "blog_qa_skills.json",
            "board_decision.json",
            "content_queue.json"
          ],
          "rationale": "Enables inspection between stages, supports manual intervention",
          "governance": "Humans review JSON outputs before next stage execution",
          "check": "Validate JSON schema compatibility between producer/consumer",
          "learned_from": "Found 3 JSON intermediate files",
          "id": "json_intermediate_format",
          "learned_on": "2025-12-31T23:49:59.109345"
        },
        {
          "severity": "architectural",
          "pattern": "Output paths configurable via environment variables",
          "rationale": "Supports multiple deployment targets (local, blog repo, CI/CD)",
          "env_vars": [
            "OUTPUT_DIR",
            "ANTHROPIC_API_KEY"
          ],
          "check": "Provide sensible defaults when env vars not set",
          "learned_from": "Found OUTPUT_DIR environment variable pattern",
          "id": "configurable_output_paths",
          "learned_on": "2025-12-31T23:49:59.110344"
        }
      ]
    },
    "prompt_engineering": {
      "description": "",
      "patterns": [
        {
          "severity": "best_practice",
          "pattern": "Prompts explicitly define expected JSON output structure",
          "rationale": "Reduces parsing errors and improves output consistency",
          "implementation": "Include example JSON schema in system prompt",
          "check": "Every agent that returns structured data must specify format",
          "learned_from": "Found structured output specs in economist_agent.py",
          "id": "structured_output_specification",
          "learned_on": "2025-12-31T23:49:59.111164"
        },
        {
          "severity": "best_practice",
          "pattern": "Style constraints explicitly listed as BANNED/FORBIDDEN",
          "rationale": "Learned from manual editing cycles - codified editorial lessons",
          "examples": [
            "BANNED OPENINGS",
            "BANNED PHRASES",
            "FORBIDDEN CLOSINGS"
          ],
          "check": "Update constraint lists based on editor agent rejections",
          "learned_from": "Found 3 explicit constraint sections in economist_agent.py",
          "id": "explicit_constraint_lists",
          "learned_on": "2025-12-31T23:49:59.111315"
        }
      ]
    },
    "error_handling": {
      "description": "",
      "patterns": [
        {
          "severity": "best_practice",
          "pattern": "Extract JSON from LLM responses with find/rfind before parsing",
          "rationale": "LLMs may wrap JSON in markdown or explanatory text",
          "implementation": "Find first '{' and last '}', parse substring",
          "check": "Always use try/except around json.loads()",
          "learned_from": "Found defensive parsing in 5 files",
          "id": "defensive_json_parsing",
          "learned_on": "2025-12-31T23:49:59.113390"
        },
        {
          "severity": "architectural",
          "pattern": "Research agent flags unverifiable claims with [UNVERIFIED]",
          "rationale": "Maintains credibility, prevents false claims in output",
          "enforcement": "Editor agent rejects articles with [UNVERIFIED] markers",
          "check": "Never publish content with verification flags",
          "learned_from": "Found [UNVERIFIED] flagging system in research/editor flow",
          "id": "explicit_verification_flags",
          "learned_on": "2025-12-31T23:49:59.113639"
        }
      ]
    },
    "dependencies": {
      "description": "",
      "patterns": [
        {
          "severity": "architectural",
          "pattern": "All agents use Anthropic Claude API via shared client",
          "rationale": "Consistent model selection, easier rate limiting, unified error handling",
          "model": "claude-sonnet-4-20250514",
          "check": "Create client once, pass to agents - don't create per-request",
          "learned_from": "Found Anthropic client usage in 5 files",
          "id": "centralized_llm_client",
          "learned_on": "2025-12-31T23:49:59.115113"
        }
      ]
    },
    "testing_strategy": {
      "description": "",
      "patterns": [
        {
          "severity": "architectural",
          "pattern": "Validation agents learn from each run using skills system",
          "rationale": "Zero-config improvement, patterns persist across runs",
          "implementation": "SkillsManager stores patterns in skills/*.json",
          "categories": [
            "content_quality",
            "seo_validation",
            "link_validation"
          ],
          "check": "Call skills_manager.learn_pattern() when new issues discovered",
          "learned_from": "Found SkillsManager implementation with pattern persistence",
          "id": "continuous_learning_validation",
          "learned_on": "2025-12-31T23:49:59.115672"
        },
        {
          "severity": "architectural",
          "pattern": "Manual review gates between pipeline stages",
          "checkpoints": [
            "Review content_queue.json after discovery",
            "Review board_decision.json after voting",
            "Review generated article before publish"
          ],
          "rationale": "Prevents runaway automation, ensures quality",
          "check": "Never auto-publish - require explicit human approval",
          "learned_from": "Found multi-stage review pattern in pipeline",
          "id": "human_review_checkpoints",
          "learned_on": "2025-12-31T23:49:59.116400"
        }
      ]
    },
    "sprint_discipline": {
      "description": "Enforce sprint planning and iteration discipline",
      "patterns": [
        {
          "id": "work_without_planning",
          "severity": "critical",
          "pattern": "Starting implementation without sprint story",
          "check": "Before any implementation: (1) Is there an active sprint? (2) Is this work part of a sprint story? (3) Are story points estimated?",
          "prevention": "STOP and create sprint story first with acceptance criteria",
          "learned_from": "Sprint 1 retrospective - jumped into Nick Tune implementation without planning",
          "learned_on": "2026-01-01T12:00:00.000000",
          "enforcement_rule": "Every implementation must reference a sprint story number"
        },
        {
          "id": "scope_creep_mid_sprint",
          "severity": "high",
          "pattern": "Adding new stories during active sprint without re-planning",
          "check": "Before adding work: (1) Will this prevent sprint goal completion? (2) Can it wait until next sprint?",
          "prevention": "Only add mid-sprint if P0 production bug. Otherwise, add to next sprint backlog",
          "learned_from": "Best practice from sprint framework",
          "learned_on": "2026-01-01T12:00:00.000000",
          "enforcement_rule": "Document reason if adding mid-sprint work"
        },
        {
          "id": "missing_progress_tracking",
          "severity": "medium",
          "pattern": "Not updating SPRINT.md task checkboxes daily",
          "check": "At end of each work session: (1) Update task checkboxes (2) Add blockers if stuck (3) Update sprint status",
          "prevention": "Make SPRINT.md update part of commit checklist",
          "learned_from": "Sprint framework requirement",
          "learned_on": "2026-01-01T12:00:00.000000",
          "enforcement_rule": "Include sprint progress in commit messages"
        },
        {
          "id": "skipped_retrospective",
          "severity": "high",
          "pattern": "Completing sprint without retrospective",
          "check": "At sprint end: (1) What went well? (2) What could improve? (3) Action items for next sprint?",
          "prevention": "Schedule retrospective as last task of final sprint day",
          "learned_from": "Sprint 1 retrospective identified planning gaps",
          "learned_on": "2026-01-01T12:00:00.000000",
          "enforcement_rule": "Sprint not complete until retrospective documented"
        },
        {
          "id": "work_without_acceptance_criteria",
          "severity": "high",
          "pattern": "Starting story without clear definition of done",
          "check": "Before implementation: (1) Are acceptance criteria defined? (2) How will we know it's complete? (3) What tests prove it works?",
          "prevention": "Define acceptance criteria in sprint story before starting",
          "learned_from": "Sprint framework best practice",
          "learned_on": "2026-01-01T12:00:00.000000",
          "enforcement_rule": "Acceptance criteria must be checkable (pass/fail)"
        },
        {
          "id": "unestimated_work",
          "severity": "medium",
          "pattern": "Working on story without story point estimation",
          "check": "Before starting story: (1) Estimated story points? (2) Fits in sprint capacity?",
          "prevention": "Estimate using 1/2/3/5/8 scale before committing to sprint",
          "learned_from": "Sprint 1 had no estimation, made velocity tracking impossible",
          "learned_on": "2026-01-01T12:00:00.000000",
          "enforcement_rule": "Every sprint story must have story point estimate"
        }
      ]
    }
  },
  "validation_stats": {
    "total_runs": 10,
    "issues_found": 19,
    "issues_fixed": 3,
    "last_run": "2026-01-04T23:00:09.968609"
  }
}